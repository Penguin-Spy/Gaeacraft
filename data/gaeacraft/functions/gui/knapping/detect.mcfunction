execute if entity @s[tag=knapping_output] unless data entity @s Items[{Slot:15b}] run tp @s ~ -64 ~
execute if entity @s[tag=knapping_output] unless data entity @s Items[{Slot:15b}] run kill @s
execute if entity @s[tag=knapping_output] unless data entity @s Items[{Slot:15b}] run tag @p remove knapping
execute if entity @s[tag=knapping_output] unless data entity @s Items[{Slot:15b}] store result score @p count run data get entity @p SelectedItem.Count
execute as @p if score @s count matches 1 run replaceitem entity @p weapon.mainhand air
execute as @p if score @s count matches 2 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 1
execute as @p if score @s count matches 3 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 2
execute as @p if score @s count matches 4 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 3
execute as @p if score @s count matches 5 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 4
execute as @p if score @s count matches 6 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 5
execute as @p if score @s count matches 7 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 6
execute as @p if score @s count matches 8 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 7
execute as @p if score @s count matches 9 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 8
execute as @p if score @s count matches 10 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 9
execute as @p if score @s count matches 11 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 10
execute as @p if score @s count matches 12 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 11
execute as @p if score @s count matches 13 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 12
execute as @p if score @s count matches 14 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 13
execute as @p if score @s count matches 15 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 14
execute as @p if score @s count matches 16 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 15
execute as @p if score @s count matches 17 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 16
execute as @p if score @s count matches 18 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 17
execute as @p if score @s count matches 19 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 18
execute as @p if score @s count matches 20 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 19
execute as @p if score @s count matches 21 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 20
execute as @p if score @s count matches 22 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 21
execute as @p if score @s count matches 23 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 22
execute as @p if score @s count matches 24 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 23
execute as @p if score @s count matches 25 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 24
execute as @p if score @s count matches 26 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 25
execute as @p if score @s count matches 27 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 26
execute as @p if score @s count matches 28 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 27
execute as @p if score @s count matches 29 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 28
execute as @p if score @s count matches 30 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 29
execute as @p if score @s count matches 31 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 30
execute as @p if score @s count matches 32 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 31
execute as @p if score @s count matches 33 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 32
execute as @p if score @s count matches 34 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 33
execute as @p if score @s count matches 35 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 34
execute as @p if score @s count matches 36 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 35
execute as @p if score @s count matches 37 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 36
execute as @p if score @s count matches 38 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 37
execute as @p if score @s count matches 39 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 38
execute as @p if score @s count matches 40 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 39
execute as @p if score @s count matches 41 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 40
execute as @p if score @s count matches 42 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 41
execute as @p if score @s count matches 43 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 42
execute as @p if score @s count matches 44 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 43
execute as @p if score @s count matches 45 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 44
execute as @p if score @s count matches 46 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 45
execute as @p if score @s count matches 47 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 46
execute as @p if score @s count matches 48 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 47
execute as @p if score @s count matches 49 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 48
execute as @p if score @s count matches 50 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 49
execute as @p if score @s count matches 51 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 50
execute as @p if score @s count matches 52 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 51
execute as @p if score @s count matches 53 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 52
execute as @p if score @s count matches 54 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 53
execute as @p if score @s count matches 55 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 54
execute as @p if score @s count matches 56 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 55
execute as @p if score @s count matches 57 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 56
execute as @p if score @s count matches 58 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 57
execute as @p if score @s count matches 59 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 58
execute as @p if score @s count matches 60 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 59
execute as @p if score @s count matches 61 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 60
execute as @p if score @s count matches 62 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 61
execute as @p if score @s count matches 63 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 62
execute as @p if score @s count matches 64 run replaceitem entity @p weapon.mainhand minecraft:feather{display:{Name:'{"translate":"item.gaeacraft.small_stone","italic":false}'},CustomModelData:1000004} 63
tag @s remove knapping_was_output
execute if entity @s[tag=knapping_output] run tag @s add knapping_was_output
tag @s remove knapping_output

# detects if there is a recipe in the table
# unless data entity @s Items[{Slot:1b}] unless data entity @s Items[{Slot:2b}] unless data entity @s Items[{Slot:3b}] unless data entity @s Items[{Slot:10b}] unless data entity @s Items[{Slot:11b}] unless data entity @s Items[{Slot:12b}] unless data entity @s Items[{Slot:19b}] unless data entity @s Items[{Slot:20b}] unless data entity @s Items[{Slot:21b}]
#axe
execute if data entity @s Items[{Slot:1b}] if data entity @s Items[{Slot:2b}] unless data entity @s Items[{Slot:3b}] if data entity @s Items[{Slot:10b}] unless data entity @s Items[{Slot:11b}] unless data entity @s Items[{Slot:12b}] unless data entity @s Items[{Slot:19b}] unless data entity @s Items[{Slot:20b}] unless data entity @s Items[{Slot:21b}] run function gaeacraft:gui/knapping/axe
execute unless data entity @s Items[{Slot:1b}] if data entity @s Items[{Slot:2b}] if data entity @s Items[{Slot:3b}] unless data entity @s Items[{Slot:10b}] unless data entity @s Items[{Slot:11b}] if data entity @s Items[{Slot:12b}] unless data entity @s Items[{Slot:19b}] unless data entity @s Items[{Slot:20b}] unless data entity @s Items[{Slot:21b}] run function gaeacraft:gui/knapping/axe
#hoe
execute if data entity @s Items[{Slot:1b}] if data entity @s Items[{Slot:2b}] unless data entity @s Items[{Slot:3b}] unless data entity @s Items[{Slot:10b}] unless data entity @s Items[{Slot:11b}] unless data entity @s Items[{Slot:12b}] unless data entity @s Items[{Slot:19b}] unless data entity @s Items[{Slot:20b}] unless data entity @s Items[{Slot:21b}] run function gaeacraft:gui/knapping/hoe
execute unless data entity @s Items[{Slot:1b}] if data entity @s Items[{Slot:2b}] if data entity @s Items[{Slot:3b}] unless data entity @s Items[{Slot:10b}] unless data entity @s Items[{Slot:11b}] unless data entity @s Items[{Slot:12b}] unless data entity @s Items[{Slot:19b}] unless data entity @s Items[{Slot:20b}] unless data entity @s Items[{Slot:21b}] run function gaeacraft:gui/knapping/hoe
#hammer
execute if data entity @s Items[{Slot:1b}] if data entity @s Items[{Slot:2b}] if data entity @s Items[{Slot:3b}] if data entity @s Items[{Slot:10b}] if data entity @s Items[{Slot:11b}] if data entity @s Items[{Slot:12b}] unless data entity @s Items[{Slot:19b}] unless data entity @s Items[{Slot:20b}] unless data entity @s Items[{Slot:21b}] run function gaeacraft:gui/knapping/hammer
#shovel
execute if data entity @s Items[{Slot:1b}] if data entity @s Items[{Slot:2b}] if data entity @s Items[{Slot:3b}] if data entity @s Items[{Slot:10b}] if data entity @s Items[{Slot:11b}] if data entity @s Items[{Slot:12b}] unless data entity @s Items[{Slot:19b}] if data entity @s Items[{Slot:20b}] unless data entity @s Items[{Slot:21b}] run function gaeacraft:gui/knapping/shovel

execute if entity @s[tag=!knapping_output,tag=knapping_was_output] run data remove entity @s Items[{Slot:15b}]
execute if entity @s[tag=!knapping_output] run function gaeacraft:gui/knapping/clear_output